# Документация для разработчиков

## Запуск без Docker

Для запуска приложения локально без использования Docker, выполните следующие шаги:

1. Установите необходимые зависимости:
   ```
   pip install -r requirements.txt
   ```
2. Запустите сервис Redis. Для MacOS используйте:
   ```
   brew services restart redis
   ```
   Для других ОС используйте соответствующие команды для запуска Redis.

3. Запустите Celery Worker:
   ```
   celery -A backend.core.celery_worker worker --loglevel=info
   ```
4. Запустите FastAPI приложение с помощью Uvicorn:
   ```
   uvicorn backend.main:app --reload
   ```
5. Запустите приложение Dash для frontend:
   ```
   python -m frontend.app
   ```

## Сборка и запуск с использованием Docker

Для сборки и запуска приложения с использованием Docker, выполните следующие шаги:

1. Соберите образы Docker:
   ```
   docker-compose build
   ```
2. Запустите контейнеры с помощью файла `compose.yaml`:
   ```
   docker-compose up
   ```

## Ссылки и ресурсы

После запуска приложения через Docker вы можете обратиться к следующим ресурсам:

- Документация OpenAPI доступна по адресу: [http://0.0.0.0:8000/docs](http://0.0.0.0:8000/docs)
- Приложение доступно по адресу: [http://0.0.0.0:9002/sign-in](http://0.0.0.0:9002/sign-in)

Убедитесь, что порты 8000 и 9002 свободны, или настройте `compose.yaml` для использования других портов, если это необходимо.

# Инициализация базы данных

При пересоздании базы данных необходимо инициализировать ее начальными данными. Для добавления моделей в таблицу `predictor` используйте следующую SQL команду:

```sql
INSERT INTO predictor (name, cost)
VALUES ('DecisionTree', 1),
       ('RandomForest', 2),
       ('GradientBoosting', 3);
```
